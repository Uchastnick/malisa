==============================================================================
==============================================================================
  Общее описание перед установкой:

------------------------------------------------------------------------------
-- Требования к программному обеспечению --

- OS Windows (рекомендуется версия, не ниже 7.0)

- Python (рекомендуется версия, не ниже 3.7)
  https://www.python.org/
  https://www.python.org/downloads/

- Проигрыватель AIMP3
  https://www.aimp.ru
  https://www.aimp.ru/?do=download

- Проигрыватель MPV
  https://mpv.io/
  https://mpv.io/installation/
  https://sourceforge.net/projects/mpv-player-windows/files/release/

- FFMpeg
  https://github.com/advancedfx/ffmpeg.zeranoe.com-builds-mirror/releases
  http://ffmpeg.zeranoe.com/builds/

- Программа управления громкостью ОС - SetVol
  https://github.com/roblatour/setvol
  https://rlatour.com/setvol/

------------------------------------------------------------------------------
-- Дополнительно (при необходимости) --

- OpenVPN (рекомендуется версия, не ниже 2.5.4)
  https://openvpn.net/community-downloads/

- Rocket.Chat.Electron Client (рекомендуется версия, не ниже 3.6.0)
  https://github.com/RocketChat/Rocket.Chat.Electron/releases

- Современный веб-браузер, например Google Chrome

------------------------------------------------------------------------------
-- Требуемые python-библиотеки --

  Список библиотек - в файле requirements.txt
  Устанавливаются автоматически,
  нужно перейти в каталог "./script/" и оттуда запустить скрипт "0_setup.bat" 

------------------------------------------------------------------------------
-- Обязательные компоненты, требуемые для корректной работы --

- PyAudio
  http://people.csail.mit.edu/hubert/pyaudio/
  Если возникли проблемы при автоматической установке, в дистрибутив включён файл для установки вручную
  См. каталог "./_distr/"

- Набор звуковых двигов от RHVoice
  https://github.com/RHVoice/RHVoice
  https://github.com/RHVoice/RHVoice/blob/master/doc/en/Binaries.md
  В дистрибутив включён установочный файл с голосом "Арина" ("Arina")
  См. каталог "./_distr/"

------------------------------------------------------------------------------
- В каталоге "./config/" Переименовываем либо копируем файл "config.py_" в "config.py"
  Далее - в файле "config.py" указываем требуемые параметры в соответствии с комментариями.

==============================================================================
==============================================================================

  УСТАНОВКА:
  
  1. Устанавливаем указанное программное обеспечение: 
    - Python >= 3.7 (https://www.python.org)
    - AIMP3 (https://www.aimp.ru)
    - MPV (https://mpv.io)
    - FFMpeg (https://github.com/advancedfx/ffmpeg.zeranoe.com-builds-mirror/releases)
       Скачиваем ffmpeg-latest-win64-static.zip для X64-системы, добавляем /bin/ каталог к переменной PATH
    - SetVol (https://rlatour.com/setvol)
    
    - MPV и SetVol лучше добавить в переменную PATH окружения Windows (но не обязательно)
    
  2. При необходимости устанавливаем:
    - OpenVPN >= 2.5.4 (https://openvpn.net/community-downloads)
    - Rocket.Chat.Electron Client >= 3.6.0 (https://github.com/RocketChat/Rocket.Chat.Electron/releases)
    - Современный веб-браузер, например Google Chrome
    
  3. Устанавливаем требуемые python-библиотеки.
     Для этого переходим в каталог "./script/" оттуда запускаем:
     - скрипт "0_setup.bat"
     
  4. На предыдущем шаге возможны проблемы с автоматической установкой билиотеки PyAudio.
     
     В это случае скачиваем версию, совместимую с установленной версией Python:
       http://people.csail.mit.edu/hubert/pyaudio/
     Далее, устанавливаем из командной строки:
       pip install `скачанная версия PyAudio`.whl
     
     Либо пробуем установить напрямую:
       python -m pip install pyaudio

     Также возможны проблемы с установкой пакета `psutil` под Windows.
     В этом случае рекомендуется скачать бинарный пакет и установить вручную
       pip install `имя_пакета`.whl
       
  5. Устанавливаем набор звуковых двигов от RHVoice.
     В дистрибутив включён установочный файл с голосом "Арина" ("Arina").
     Дополнительные двиги можно скачать по указанным ссылкам (раздел SAPI 5):
       https://github.com/RHVoice/RHVoice
       https://github.com/RHVoice/RHVoice/blob/master/doc/en/Binaries.md
     Рекомендуемые голоса: Арина, Анна, Елена
     
  6. Настраиваем базовую конфигурацию.
     В каталоге "./config/" переименовываем либо копируем файл "config.py_" в "config.py"
     
     Далее - в файле "config.py" указываем требуемые параметры 
     в соответствии с указанными там комментариями.
       
     6.1. В частности, меняем имя робота при необходимости (может быть почти любым).
       
     6.2. Выбираем используемый микрофон.
          Для этого в каталоге "./script/" запускаем скрипт "1_malisa_microphones.bat"
          В открывшемся списке выбираем требуемый микрофон и запоминаем индекс устройства (device_index).
          Этот индекс пропишем в позже файле конфигурации, параметр `MICROPHONE_INDEX`
     
     6.3. Выбираем звуковой движок.
          Для этого в каталоге "./script/" запускаем скрипт "1_malisa_microphones.bat"
          Запоминаем имя движка (второй столбец, в кавычках) и прописываем его в файле конфигурации, параметры:
            - `SPEECH_ENGINE_EN_NAME` (для английского языка)
            - `SPEECH_ENGINE_RU_NAME` (для русского языка)
            
     6.4. Для получения информации о погоде необходимо:
            a) Зарегистрироваться на `openweathermap.org` и указать полученный ключ в файле конфигурации, параметр `WEATHER_API`
            b) Указать в файле конфигурации требуемый населённый пункт, параметр `WEATHER_CITY`
            
     6.5. Для получения расширенного прогноза погоды (текущее состояние плюс прогноз на семь дней) необходимо:
            a) выполнить пункт 6.4.a
            b) указать в файле конфигурации значения широты и долготы требуемого населённого пункта, 
               параметры `WEATHER_PLACE_LAT`, `WEATHER_PLACE_LON`

     6.6. Для успешного получения новостей необходимо зарегистрироваться на сайте `newsapi.org`,
          и указать ключ доступа в файле конфигурации (параметр `NEWS_API`)
          
     6.7. Для получения статистики о недвижимости требуемые города/регионы прописываются транслитом в соответствующих параметрах
          (см. комментарии в файле конфигурации)
          
     6.8. Пути к используемым приложениям прописываются полностью в файле конфигурации
               
  7. В соответствии с музыкальными предпочтениями редактируется файл `radio_links.yaml`
    в каталоге "./config/", для прослушивания интернет-радио указанного стиля.
    ВНИМАНИЕ: на момент запуска программы указанные ссылки могут устареть и быть невалидными.
    В этом случае используется плэйлист по умолчанию.
    
  8. Музыкальные плэйлисты для интернет-радио по умолчанию хранятся в каталоге "./playlist/"
    После размещения плэйлиста его необходимо прописать в файле конфигурации, параметр `PLAYLIST_DEFAULT`
     
  9. В каталоге "./books/" можно размещать текстовые файлы в формате `.fb2`, `.txt`, `.pdf`.
    Тогда они становятся доступны в виде книг в соответствующих командах.
  
  10. ДЛЯ ОПЫТНЫХ ПОЛЬЗОВАТЕЛЕЙ:      
      
      Вся логика реакции робота на команды хранится в специальном формате, в каталоге "./config/", в файлах:
      - `logic.yaml` - системная (базовая) логика
      - `user_logic.yaml` - дополнительная логика, добавленная пользователями
      
      Описание формата хранится там же, в файле `logic.yaml`
      При необходимости - логика взаимодействия может быть изменена.
      
      !!ВНИМАНИЕ!!
        Получить список и подробный формат доступных системных команд можно прежде всего из указанного файла - 
        внутри `logic.yaml` находятся подробные описания каждой из команд.
        
        ОСТОРОЖНО: не повредите файл при изучении доступных команд и реакций робота.
        
  11. ДЛЯ ПРОГРАММИСТОВ:

      Файл `user_logic.yaml` в каталоге "./config/" используется в связке с пользовательскими действиями
      из каталога "./actions/"
      
      В каталоге "./actions/" каждый новый файл представляет собой исполняемый python-скрипт,
      и содержит новый функционал и автономное действие, созданное пользователем.
      
      Это подразумевает развитие функционала робота в целом без изменения основного кода и логики взаимодействия,
      благодаря написанию отдельных action-процедур и поддержке со стороны opensource-сообщества.
      
      Каждая action-процедура должна соответствовать специальному формату 
      (см. примеры `act_example.py` или `act_hello.py` в каталоге "./actions/")
      Дополнительная информация содержится в файле `README.md` соответствующего каталога.

==============================================================================
==============================================================================

  ЗАПУСК:
  
  После настройки всех требуемых параметров запуск может производится любым из указанных способов:
  
  a) скрипт `malisa_run.bat` в каталоге "./script/"
  
  b) скрипт `malisa.bat` в корневом каталоге
    (обеспечивает запуск с задержкой, удобно поместить ссылку на скрипт в автозагрузку: Win+R, команда shell:startup)
  
  c) из командной строки:
       `python malisa.py`
     (удобно для отладки)
     
  Для функционирования робота необходим доступ к сети интернет, т.к. используется движок распознавания речи от Google,
  а также он-лайн переводчик Google при необходимости.

==============================================================================
==============================================================================

  СПИСОК ДОСТУПНЫХ КОМАНД:

  Получить список и подробный формат доступных системных команд можно прежде всего из указанного файла - 
  внутри `logic.yaml` в каталоге "./config/" находятся подробные описания каждой из команд.
  
  В дальнейшем будет добавлен отдельный раздел в документацию.

  Команда должна начинаться с имени робота.
  Либо: сначала имя робота произносится отдельно, а после соответствующей реакции - произносится команда без имени робота в начале.
       
==============================================================================
==============================================================================
